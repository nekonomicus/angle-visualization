<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Angle Visualization with Oval</title>
  <style>
    :root {
      --primary-color: #4361ee;
      --secondary-color: #e63946;
      --accent-color: #ff9f1c;
      --highlight-color: #7209b7;
      --background-color: #f8f9fa;
      --card-background: #fff;
      --border-color: #495057;
      --text-color: #333;
      --control-bg: #e9ecef;
      --button-color: #4361ee;
      --button-hover: #3a56d4;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--text-color);
      padding: 20px;
      background-color: var(--background-color);
      max-width: 1000px;
      margin: 0 auto;
      line-height: 1.5;
    }
    
    #visualization {
      text-align: center;
      margin: 20px auto;
      background-color: var(--card-background);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.12);
      max-width: 800px;
      transition: all 0.3s ease;
    }
    
    svg {
      border: 2px solid var(--border-color);
      margin-bottom: 20px;
      background-color: var(--card-background);
      border-radius: 10px;
      width: 100%;
      height: auto;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    
    .controls-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
      margin-top: 30px;
    }
    
    .control-group {
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      background-color: var(--control-bg);
      padding: 12px 15px;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      transition: all 0.2s ease-in-out;
    }
    
    .control-group:hover {
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }
    
    .control-group label {
      font-size: 16px;
      font-weight: 600;
      margin: 5px 0;
      color: var(--border-color);
      width: 100%;
      margin-bottom: 8px;
    }
    
    .control-inputs {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }
    
    .control-group input[type="number"] {
      width: 70px;
      text-align: center;
      font-size: 16px;
      border: 1px solid #ced4da;
      border-radius: 6px;
      padding: 6px 8px;
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
    }
    
    .control-group input[type="range"] {
      flex: 1;
      margin: 0 10px;
      height: 6px;
      border-radius: 3px;
      background: #ced4da;
      outline: none;
      -webkit-appearance: none;
    }
    
    .control-group input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--button-color);
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .control-group input[type="range"]::-webkit-slider-thumb:hover {
      background: var(--button-hover);
      transform: scale(1.2);
    }
    
    .control-group input[type="range"]::-moz-range-thumb {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--button-color);
      cursor: pointer;
      transition: all 0.2s;
      border: none;
    }
    
    .control-group input[type="range"]::-moz-range-thumb:hover {
      background: var(--button-hover);
      transform: scale(1.2);
    }
    
    .control-group button {
      font-size: 16px;
      padding: 6px 12px;
      cursor: pointer;
      background-color: var(--button-color);
      color: white;
      border: none;
      border-radius: 6px;
      transition: all 0.2s;
    }
    
    .control-group button:hover {
      background-color: var(--button-hover);
      transform: translateY(-2px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .draggable {
      cursor: move;
      fill-opacity: 0.7;
      transition: fill-opacity 0.2s, transform 0.2s;
    }
    
    .draggable:hover {
      fill-opacity: 1;
      transform: scale(1.2);
    }
    
    text {
      font-weight: bold;
      fill: #343a40;
    }
    
    .title {
      color: var(--border-color);
      text-align: center;
      font-weight: 600;
      margin-top: 0;
      font-size: 1.8rem;
      margin-bottom: 30px;
    }
    
    @media (max-width: 600px) {
      body {
        padding: 10px;
      }
      
      .control-group {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .control-inputs {
        flex-wrap: wrap;
      }
      
      .control-group label, 
      .control-group input,
      .control-group button {
        margin: 5px 0;
      }
      
      .control-group input[type="range"] {
        width: 100%;
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>
  <h1 class="title">Angle Visualization with Oval</h1>
  
  <div id="visualization">
    <svg viewBox="-2.5 -2.5 5 5" id="svg-element">
      <defs>
        <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
          <path d="M0,0 L0,6 L9,3 z" fill="#4361ee" />
        </marker>
        <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
          <path d="M0,0 L0,6 L9,3 z" fill="#e63946" />
        </marker>
        <marker id="arrow-orange" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
          <path d="M0,0 L0,6 L9,3 z" fill="#ff9f1c" />
        </marker>
      </defs>
      
      <!-- Fixed oval (solid) -->
      <ellipse cx="0" cy="0" rx="1.4" ry="0.9" stroke="#495057" fill="none" stroke-width="0.03"/>
      
      <!-- Rotating group (contains the oval, red anchor, red line, and rotating spoke) -->
      <g id="rotating-group" transform="rotate(0)">
        <!-- Rotating oval (dashed) -->
        <ellipse id="rotating-oval" cx="0" cy="0" rx="1.45" ry="0.95" stroke="#6c757d" stroke-dasharray="0.1,0.05" fill="none" stroke-width="0.02"/>
        
        <!-- Rotation handle on the oval -->
        <circle id="rotation-handle" cx="1.45" cy="0" r="0.1" fill="#6c757d" class="draggable" data-drag-type="rotation" stroke="#fff" stroke-width="0.02"/>
        
        <!-- Red Anchor - drilled into the rotating oval -->
        <circle id="rotating-center" cx="0.7" cy="0.3" r="0.1" fill="#e63946" class="draggable" data-drag-type="red-anchor"/>
        
        <!-- Red Line - drilled into the rotating oval -->
        <line id="red-line" x1="0.7" y1="0.3" x2="0.7" y2="-1.7" stroke="#e63946" stroke-width="0.03" marker-end="url(#arrow-red)"/>
        
        <!-- Angle handler for red line -->
        <circle id="red-angle-handle" cx="0.7" cy="-1.5" r="0.1" fill="#e63946" class="draggable" data-drag-type="red-angle" fill-opacity="0.7"/>
        
        <!-- Full diameter rotating spoke -->
        <line id="rotating-spoke" x1="-1.45" y1="0" x2="1.45" y2="0" stroke="#ff9f1c" stroke-width="0.03" marker-end="url(#arrow-orange)"/>
      </g>
      
      <!-- Center point marker -->
      <circle cx="0" cy="0" r="0.04" fill="#212529" stroke="none"/>
      
      <!-- Blue Anchor -->
      <circle id="blue-anchor" cx="1.4" cy="0" r="0.1" fill="#4361ee" class="draggable" data-drag-type="blue-anchor"/>
      
      <!-- Fixed spoke -->
      <line id="fixed-spoke" x1="-1.4" y1="0" x2="1.4" y2="0" stroke="#ff9f1c" stroke-width="0.03" marker-end="url(#arrow-orange)"/>
      
      <!-- Blue Line with correct arrow -->
      <line id="blue-line" x1="1.4" y1="-2" x2="1.4" y2="2" stroke="#4361ee" stroke-width="0.03" marker-end="url(#arrow-blue)"/>
      
      <!-- Angle arc between orange spokes -->
      <path id="spoke-angle-arc" d="M 0.3 0 A 0.3 0.3 0 0 1 0.3 0" stroke="#ff9f1c" stroke-width="0.03" fill="none"/>
      
      <!-- Angle arc between blue and red arrows -->
      <path id="arrow-angle-arc" d="M 0.5 -0.3 A 0.3 0.3 0 0 1 0.5 -0.3" stroke="#7209b7" stroke-width="0.03" fill="none"/>
      
      <!-- Labels with better positioning -->
      <text id="angle-label" x="-2.4" y="2.3" font-size="0.20">Angle Blue-Red: 45°</text>
      <text id="turning-label" x="-2.4" y="1.9" font-size="0.20">Rotation Angle: 0°</text>
      <text id="spoke-angle-label" x="-2.4" y="1.5" font-size="0.20">Spoke Angle: 0°</text>
      <text id="red-angle-label" x="-2.4" y="1.1" font-size="0.20">Red Arrow: 90°</text>
      <text id="parallel-message" x="0" y="-1.4" fill="#2a9d8f" text-anchor="middle" font-size="0.20"></text>
      
      <!-- Small angle labels near the arcs -->
      <text id="spoke-angle-value" x="0.28" y="0.25" fill="#ff9f1c" font-size="0.18" text-anchor="middle" font-weight="bold">0°</text>
      <text id="arrow-angle-value" x="0.68" y="-0.35" fill="#7209b7" font-size="0.18" text-anchor="middle" font-weight="bold">45°</text>
    </svg>
  </div>
